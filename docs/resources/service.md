---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "docker_service Resource - docker"
subcategory: ""
description: |-
  Manages Docker Swarm services. Requires Docker to be in Swarm mode.
---

# docker_service (Resource)

Manages Docker Swarm services. Requires Docker to be in Swarm mode.



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the Docker service.

### Optional

- `auth` (Block List) Registry authentication for private images. (see [below for nested schema](#nestedblock--auth))
- `converge_config` (Block List) Converge configuration for synchronous operations. (see [below for nested schema](#nestedblock--converge_config))
- `endpoint_spec` (Block List) Endpoint specification. (see [below for nested schema](#nestedblock--endpoint_spec))
- `labels` (Map of String) User-defined key/value metadata for the service.
- `mode` (String) Service mode: 'replicated' or 'global'. Default is 'replicated'.
- `replicas` (Number) Number of replicas for the service. Only applicable in 'replicated' mode.
- `rollback_config` (Block List) Rollback configuration. (see [below for nested schema](#nestedblock--rollback_config))
- `task_spec` (Block List) Task specification for the service. (see [below for nested schema](#nestedblock--task_spec))
- `update_config` (Block List) Update configuration. (see [below for nested schema](#nestedblock--update_config))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--auth"></a>
### Nested Schema for `auth`

Required:

- `password` (String, Sensitive) Registry password.
- `server_address` (String) Registry server address.
- `username` (String) Registry username.


<a id="nestedblock--converge_config"></a>
### Nested Schema for `converge_config`

Optional:

- `delay` (String) Delay between convergence checks.
- `timeout` (String) Timeout for convergence.


<a id="nestedblock--endpoint_spec"></a>
### Nested Schema for `endpoint_spec`

Optional:

- `mode` (String) Endpoint mode: vip or dnsrr.
- `ports` (Block List) Port configurations. (see [below for nested schema](#nestedblock--endpoint_spec--ports))

<a id="nestedblock--endpoint_spec--ports"></a>
### Nested Schema for `endpoint_spec.ports`

Required:

- `target_port` (Number) Target port inside the container.

Optional:

- `name` (String) Port name.
- `protocol` (String) Protocol: tcp, udp, or sctp.
- `publish_mode` (String) Port publish mode: ingress or host.
- `published_port` (Number) Published port on the swarm.



<a id="nestedblock--rollback_config"></a>
### Nested Schema for `rollback_config`

Optional:

- `delay` (String) Delay between rollbacks.
- `failure_action` (String) Action on rollback failure: continue or pause.
- `max_failure_ratio` (Number) Maximum failure ratio.
- `monitor` (String) Duration to monitor after rollback.
- `order` (String) Rollback order: stop-first or start-first.
- `parallelism` (Number) Number of tasks to rollback simultaneously.


<a id="nestedblock--task_spec"></a>
### Nested Schema for `task_spec`

Optional:

- `container_spec` (Block List) Container specification. (see [below for nested schema](#nestedblock--task_spec--container_spec))
- `force_update` (Number) Counter to trigger a forced update.
- `log_driver` (Block List) Log driver configuration. (see [below for nested schema](#nestedblock--task_spec--log_driver))
- `networks` (Set of String) Networks to attach the container to.
- `placement` (Block List) Placement constraints and preferences. (see [below for nested schema](#nestedblock--task_spec--placement))
- `resources` (Block List) Resource limits and reservations. (see [below for nested schema](#nestedblock--task_spec--resources))
- `restart_policy` (Block List) Restart policy. (see [below for nested schema](#nestedblock--task_spec--restart_policy))

<a id="nestedblock--task_spec--container_spec"></a>
### Nested Schema for `task_spec.container_spec`

Required:

- `image` (String) The image to use for the container.

Optional:

- `args` (Block List) Arguments to the command. (see [below for nested schema](#nestedblock--task_spec--container_spec--args))
- `command` (Block List) Command to run in the container. (see [below for nested schema](#nestedblock--task_spec--container_spec--command))
- `configs` (Block List) Configs to expose to the container. (see [below for nested schema](#nestedblock--task_spec--container_spec--configs))
- `dir` (String) Working directory.
- `dns_config` (Block List) DNS configuration. (see [below for nested schema](#nestedblock--task_spec--container_spec--dns_config))
- `env` (Map of String) Environment variables.
- `groups` (Block List) Additional groups. (see [below for nested schema](#nestedblock--task_spec--container_spec--groups))
- `healthcheck` (Block List) Health check configuration. (see [below for nested schema](#nestedblock--task_spec--container_spec--healthcheck))
- `hostname` (String) Container hostname.
- `hosts` (Block List) Extra hosts to add. (see [below for nested schema](#nestedblock--task_spec--container_spec--hosts))
- `labels` (Map of String) Container labels.
- `mounts` (Block List) Mount configurations. (see [below for nested schema](#nestedblock--task_spec--container_spec--mounts))
- `privileges` (Block List) Privilege configuration. (see [below for nested schema](#nestedblock--task_spec--container_spec--privileges))
- `read_only` (Boolean) Mount the container's root filesystem as read-only.
- `secrets` (Block List) Secrets to expose to the container. (see [below for nested schema](#nestedblock--task_spec--container_spec--secrets))
- `stop_grace_period` (String) Time to wait before forcefully killing the container.
- `stop_signal` (String) Signal to stop the container.
- `user` (String) User to run the container as.

<a id="nestedblock--task_spec--container_spec--args"></a>
### Nested Schema for `task_spec.container_spec.args`

Required:

- `value` (String) Argument value.


<a id="nestedblock--task_spec--container_spec--command"></a>
### Nested Schema for `task_spec.container_spec.command`

Required:

- `value` (String) Command argument.


<a id="nestedblock--task_spec--container_spec--configs"></a>
### Nested Schema for `task_spec.container_spec.configs`

Required:

- `config_id` (String) Config ID.
- `config_name` (String) Config name.
- `file_name` (String) Target file name in the container.

Optional:

- `file_gid` (String) GID of the config file.
- `file_mode` (Number) File mode of the config file.
- `file_uid` (String) UID of the config file.


<a id="nestedblock--task_spec--container_spec--dns_config"></a>
### Nested Schema for `task_spec.container_spec.dns_config`

Optional:

- `nameservers` (List of String) DNS nameservers.
- `options` (List of String) DNS options.
- `search` (List of String) DNS search domains.


<a id="nestedblock--task_spec--container_spec--groups"></a>
### Nested Schema for `task_spec.container_spec.groups`

Required:

- `value` (String) Group name.


<a id="nestedblock--task_spec--container_spec--healthcheck"></a>
### Nested Schema for `task_spec.container_spec.healthcheck`

Required:

- `test` (List of String) Health check test command.

Optional:

- `interval` (String) Interval between health checks.
- `retries` (Number) Number of retries before marking unhealthy.
- `start_period` (String) Start period for the container to initialize.
- `timeout` (String) Health check timeout.


<a id="nestedblock--task_spec--container_spec--hosts"></a>
### Nested Schema for `task_spec.container_spec.hosts`

Required:

- `host` (String) Hostname.
- `ip` (String) IP address.


<a id="nestedblock--task_spec--container_spec--mounts"></a>
### Nested Schema for `task_spec.container_spec.mounts`

Required:

- `target` (String) Mount target path in the container.
- `type` (String) Mount type: bind, volume, or tmpfs.

Optional:

- `read_only` (Boolean) Mount as read-only.
- `source` (String) Mount source (volume name or host path).


<a id="nestedblock--task_spec--container_spec--privileges"></a>
### Nested Schema for `task_spec.container_spec.privileges`

Optional:

- `no_new_privileges` (Boolean) Disable gaining additional privileges.


<a id="nestedblock--task_spec--container_spec--secrets"></a>
### Nested Schema for `task_spec.container_spec.secrets`

Required:

- `file_name` (String) Target file name in the container.
- `secret_id` (String) Secret ID.
- `secret_name` (String) Secret name.

Optional:

- `file_gid` (String) GID of the secret file.
- `file_mode` (Number) File mode of the secret file.
- `file_uid` (String) UID of the secret file.



<a id="nestedblock--task_spec--log_driver"></a>
### Nested Schema for `task_spec.log_driver`

Required:

- `name` (String) Log driver name.

Optional:

- `options` (Map of String) Log driver options.


<a id="nestedblock--task_spec--placement"></a>
### Nested Schema for `task_spec.placement`

Optional:

- `constraints` (Set of String) Placement constraints.
- `max_replicas` (Number) Maximum replicas per node.
- `prefs` (Set of String) Placement preferences.


<a id="nestedblock--task_spec--resources"></a>
### Nested Schema for `task_spec.resources`

Optional:

- `limits` (Block List) Resource limits. (see [below for nested schema](#nestedblock--task_spec--resources--limits))
- `reservations` (Block List) Resource reservations. (see [below for nested schema](#nestedblock--task_spec--resources--reservations))

<a id="nestedblock--task_spec--resources--limits"></a>
### Nested Schema for `task_spec.resources.limits`

Optional:

- `memory_bytes` (Number) Memory limit in bytes.
- `nano_cpus` (Number) CPU limit in nano CPUs.


<a id="nestedblock--task_spec--resources--reservations"></a>
### Nested Schema for `task_spec.resources.reservations`

Optional:

- `memory_bytes` (Number) Memory reservation in bytes.
- `nano_cpus` (Number) CPU reservation in nano CPUs.



<a id="nestedblock--task_spec--restart_policy"></a>
### Nested Schema for `task_spec.restart_policy`

Optional:

- `condition` (String) Restart condition: none, on-failure, any.
- `delay` (String) Delay between restart attempts.
- `max_attempts` (Number) Maximum restart attempts.
- `window` (String) Time window to evaluate restart policy.



<a id="nestedblock--update_config"></a>
### Nested Schema for `update_config`

Optional:

- `delay` (String) Delay between updates.
- `failure_action` (String) Action on update failure: continue, pause, or rollback.
- `max_failure_ratio` (Number) Maximum failure ratio.
- `monitor` (String) Duration to monitor after update.
- `order` (String) Update order: stop-first or start-first.
- `parallelism` (Number) Number of tasks to update simultaneously.
