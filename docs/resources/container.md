---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "docker_container Resource - docker"
subcategory: ""
description: |-
  Manages Docker containers.
---

# docker_container (Resource)

Manages Docker containers.

## Example Usage

```terraform
# Required resources
resource "docker_image" "nginx" {
  name = "nginx:latest"
}

resource "docker_network" "app" {
  name = "app-network"
}

resource "docker_volume" "html" {
  name = "nginx-html"
}

# Simple container
resource "docker_container" "web" {
  name  = "web-server"
  image = docker_image.nginx.image_id

  ports {
    internal = 80
    external = 8080
  }
}

# Container with full configuration
resource "docker_container" "app" {
  name  = "app-container"
  image = docker_image.nginx.image_id

  # Environment variables
  env = {
    "NGINX_HOST" = "localhost"
    "NGINX_PORT" = "80"
  }

  # Labels
  labels = {
    "app"         = "web"
    "environment" = "development"
  }

  # Port mappings
  ports {
    internal = 80
    external = 8081
    protocol = "tcp"
  }

  ports {
    internal = 443
    external = 8443
    protocol = "tcp"
  }

  # Volume mounts
  volumes {
    volume_name    = docker_volume.html.name
    container_path = "/usr/share/nginx/html"
    read_only      = false
  }

  # Network attachment
  networks = [docker_network.app.name]

  # Resource limits
  memory     = 536870912 # 512MB
  cpu_shares = 512

  # Restart policy
  restart = "unless-stopped"

  # Health check
  healthcheck {
    test     = ["CMD", "curl", "-f", "http://localhost/"]
    interval = "30s"
    timeout  = "10s"
    retries  = 3
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `image` (String) The ID or name of the image to use for the container.
- `name` (String) The name of the container.

### Optional

- `command` (List of String) The command to run in the container.
- `cpu_period` (Number) CPU CFS period in microseconds.
- `cpu_quota` (Number) CPU CFS quota in microseconds.
- `cpu_shares` (Number) CPU shares (relative weight).
- `dns` (List of String) Set of DNS servers.
- `dns_search` (List of String) Set of DNS search domains.
- `domainname` (String) Domain name for the container.
- `entrypoint` (List of String) The entrypoint for the container.
- `env` (Map of String) Environment variables to set in the container.
- `extra_hosts` (List of String) A list of hostnames/IP mappings to add to the container's /etc/hosts file. Format: hostname:IP.
- `healthcheck` (Block, Optional) Health check configuration. (see [below for nested schema](#nestedblock--healthcheck))
- `hostname` (String) Hostname to set for the container.
- `labels` (Map of String) User-defined key/value metadata.
- `memory` (Number) Memory limit in bytes.
- `memory_swap` (Number) Total memory limit (memory + swap) in bytes. Set to -1 for unlimited swap.
- `must_run` (Boolean) If true, ensures the container is running. Default is true.
- `network_mode` (String) Network mode of the container (bridge, host, none, container:<name|id>).
- `networks` (Set of String) Set of networks to attach to the container.
- `ports` (Block List) Port mappings for the container. (see [below for nested schema](#nestedblock--ports))
- `privileged` (Boolean) Run container in privileged mode.
- `remove` (Boolean) If true, removes the container on destruction. Default is true.
- `restart` (String) Restart policy for the container. Values are: no, on-failure[:max-retries], always, unless-stopped.
- `stdin_open` (Boolean) Keep STDIN open even if not attached.
- `tty` (Boolean) Allocate a pseudo-TTY.
- `user` (String) User that commands are run as inside the container.
- `volumes` (Block List) Volume mounts for the container. (see [below for nested schema](#nestedblock--volumes))
- `working_dir` (String) Working directory inside the container.

### Read-Only

- `container_id` (String) The Docker container ID.
- `exit_code` (Number) The exit code of the container if it has stopped.
- `gateway` (String) The network gateway of the container.
- `id` (String) The ID of this resource.
- `ip_address` (String) The IP address of the container.

<a id="nestedblock--healthcheck"></a>
### Nested Schema for `healthcheck`

Required:

- `test` (List of String) Command to run to check health.

Optional:

- `interval` (String) Time between running the check (e.g., 30s, 1m).
- `retries` (Number) Number of consecutive failures needed to consider a container as unhealthy.
- `start_period` (String) Start period for the container to initialize before checks are retried (e.g., 5s).
- `timeout` (String) Maximum time to wait for a check (e.g., 10s).


<a id="nestedblock--ports"></a>
### Nested Schema for `ports`

Required:

- `internal` (Number) Internal port within the container.

Optional:

- `external` (Number) External port on the host.
- `ip` (String) IP address to bind the port on.
- `protocol` (String) Protocol for the port (tcp/udp). Default is tcp.


<a id="nestedblock--volumes"></a>
### Nested Schema for `volumes`

Required:

- `container_path` (String) The path inside the container to mount to.

Optional:

- `host_path` (String) The path on the host to bind mount.
- `read_only` (Boolean) Mount the volume as read-only.
- `volume_name` (String) The name of the Docker volume to mount.
